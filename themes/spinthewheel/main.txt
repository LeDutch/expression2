@persist ParentSlice:egpobject
# Automagically Compiled via https://egpcompiler.com (Credits Odin & Bob Tomato)
#include "library/tomato_lib"
tauPrecacheMaterial("4417916")

if (first()) {
    Slices = array()
}

function void wirelink:clear() {
    This:egpClear()
    Elements:clear()
}

function egpobject text(ID:number, ARGS:table) {
    return EGP:egpTextLayout(ID, ARGS)
}

function egpobject circle(ID:number, ARGS:table) {
    if (ARGS["outline", number]) {
        return EGP:egpCircleOutline(ID, ARGS)
    }
    return EGP:egpCircle(ID, ARGS)
}

function egpobject box(ID:number, ARGS:table) {
    if (ARGS["outline", number]) {
        return EGP:egpRoundedBoxOutline(ID, ARGS)
    }
    return EGP:egpRoundedBox(ID, ARGS)
}

function egpobject line(ID:number, ARGS:table) {
    return EGP:egpBox(ID, ARGS)
}

function egpobject wedge(ID:number, ARGS:table) {
    return EGP:egpWedge(ID, ARGS)
}

function void game_board(Slices:number, Odds:array) {
    ParentSlice = circle(Elements:get("Slice_Parent"), table(
        "x"=256.0, "y"=256.0, "w"=256, "h"=256, "r"=255, "g"=255, "b"=255, 
        "material"="../data/tau/cache/files/1a2b6f5882d9172b30e2388d4d8bfe1.png"))
}

function void button_idle() {
    # Button Section
    box(Elements:get("Rectangle365"), table("x"=241.0, "y"=212.02, "w"=21.24, "h"=21.24, "r"=217, "g"=217, "b"=217, "radius"=0))
    
    EGP:egpAngle(Elements:get("Rectangle365"), vec2(241.0, 212.02), vec2(0, 0), 45.0)
    circle(Elements:get("SpinButton"), table("x"=255.5, "y"=255.5, "w"=46.5, "h"=46.5, "r"=217, "g"=217, "b"=217))
    circle(Elements:get("EllipseFade2"), table("x"=256.0, "y"=256.0, "w"=42.0, "h"=42.0, "r"=156, "g"=156, "b"=156))
    circle(Elements:get("EllipseFade1"), table("x"=256.0, "y"=256.0, "w"=41.0, "h"=41.0, "r"=193, "g"=193, "b"=193))
    circle(Elements:get("EllipseWhite"), table("x"=256.0, "y"=256.0, "w"=40.0, "h"=40.0, "r"=255, "g"=255, "b"=255))
    circle(Elements:get("EllipseFront"), table("x"=256.0, "y"=256.0, "w"=38.0, "h"=38.0, "r"=244, "g"=244, "b"=244))
    text(Elements:get("SPIN"), table("text"="SPIN", "x"=214.0, "y"=232.0, "w"= 81.0, "h"=48.0, "r"=170, "g"=170, "b"=170, "size"=27, "halign"=1, "valign"=1))
    text(Elements:get("1" + "SPIN"), table("text"="SPIN", "x"=215.0, "y"=232.0, "w"= 81.0, "h"=48.0, "r"=170, "g"=170, "b"=170, "size"=27, "halign"=1, "valign"=1))

}

function void button_press() {
    # Button Section
    box(Elements:get("Rectangle365"), table("x"=241.0, "y"=212.02, "w"=21.24, "h"=21.24, "r"=217, "g"=217, "b"=217, "radius"=0))
    EGP:egpAngle(Elements:get("Rectangle365"), vec2(241.0, 212.02), vec2(0, 0), 45.0)
    circle(Elements:get("SpinButton"), table("x"=255.5, "y"=255.5, "w"=46.5, "h"=46.5, "r"=217, "g"=217, "b"=217))
    circle(Elements:get("EllipseFade2"), table("x"=256.0, "y"=256.0, "w"=40.0, "h"=40.0, "r"=156, "g"=156, "b"=156))
    circle(Elements:get("EllipseFade1"), table("x"=256.0, "y"=256.0, "w"=39.0, "h"=39.0, "r"=193, "g"=193, "b"=193))
    circle(Elements:get("EllipseWhite"), table("x"=256.0, "y"=256.0, "w"=38.0, "h"=38.0, "r"=255, "g"=255, "b"=255))
    circle(Elements:get("EllipseFront"), table("x"=256.0, "y"=256.0, "w"=36.0, "h"=36.0, "r"=244, "g"=244, "b"=244))
    text(Elements:get("SPIN"), table("text"="SPIN", "x"=214.0, "y"=232.0, "w"= 81.0, "h"=48.0, "r"=170, "g"=170, "b"=170, "size"=24, "halign"=1, "valign"=1))
    text(Elements:get("1" + "SPIN"), table("text"="SPIN", "x"=215.0, "y"=232.0, "w"= 81.0, "h"=48.0, "r"=170, "g"=170, "b"=170, "size"=24, "halign"=1, "valign"=1))
}

function void theme() {
    EGP:clear()
    EGP:egpDrawTopLeft(1)

    circle(Elements:get("EllipseBackgro"), table("x"=256.0, "y"=256.0, "w"=256.0, "h"=256.0, "r"=71, "g"=71, "b"=71))
    
}
