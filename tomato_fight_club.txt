@name Tomato Fight Club
@inputs 
@outputs 
@persist Screen Profile:entity Choice
@trigger 
@strict

if (~EGP) {reset()}
if (first() || dupefinished()) {
    #include "library/tomato_lib"
    #include "themes/bank/tomato_betterbank"
    Screen = 0
    
    function changeScreen(Time) {
        Timer:setTime("t1",0)
        Timer:setTime("t2",0)
        timer("changed", Time)
    }
    
    function welcome() {
        createTextLayout("Intro1", size(vec2(ScreenXY-80,ScreenXY-80)), color(Light), align(0), coords(vec2(40,40)))
        createTextLayout("Intro2", size(vec2(ScreenXY-80,ScreenXY-80)), color(Light), align(0), coords(vec2(40,150)))
        createTextLayout("Intro3", size(vec2(ScreenXY-80,ScreenXY-80)), color(Light), align(0), coords(vec2(40,300)))
        
        local ID = Elements:get("Intro1")
        EGP:egpSize(ID, 20)
        EGP:egpAlpha(ID, 0)
        EGP:egpSetText(ID,
        "It is a time of chaos and disorder in the TAU universe. The streets of the city are teeming with crime, corruption, and anarchy. As the sun sets over the digital skyline, a mysterious gathering is about to unfold in the shadows.")
        
        local ID = Elements:get("Intro2")
        EGP:egpSize(ID, 20)
        EGP:egpAlpha(ID, 0)
        EGP:egpSetText(ID, 
        "Deep within the recesses of the virtual realm, a secret society has emergeda society that thrives on the thrill of combat and the art of deception. This clandestine organization, known only as 'The Ultimate Showdown,' has established a Fight Club that transcends the boundaries of this digital landscape.")
        
        local ID = Elements:get("Intro3")
        EGP:egpSize(ID, 20)
        EGP:egpAlpha(ID, 0)
        EGP:egpSetText(ID, "Rumours spread like wildfire, drawing seasoned warriors, cunning strategists, and those hungry for power. The Fight Club promises glory, wealth, and the chance to prove oneself in the ultimate arena...")
    }
    
    function boardBG() {
        EGP:egpClear()
        createBox("Background",size(vec2(ScreenXY,ScreenXY)), color(Dark), coords(vec2(0,0)))
        createText("A Tomato & Odin Production",size(16),align(1),coords(vec2(ScreenXY/2,ScreenXY-30)))
    }
    
    timer("choice", 0)
    changeScreen(1000)
}

interval(50)

if (Animation) {
    if (Screen == 1) {
        fadeIn("Intro1", 0, 1)
    }
    elseif(Screen == 2) {
        fadeIn("Intro2", 0, 1)
    }
    elseif(Screen == 3) {
        fadeIn("Intro3", 0, 1)
    }
    elseif(Screen == 4) {
    }
    elseif(Screen == 5) {
    }
    elseif(Screen == 6) {
    }
    elseif(Screen == 7) {
    }
    elseif(Screen == 8) {
    }
    elseif(Screen == 9) {
    }
    elseif(Screen == 10) {
    }
    elseif (Screen == 11) {
    }
    
}

if (clk("choice")) {
    Choice = randint(1,3)
    timer("choice", randint(1000,5000))
}

if (clk("changed")) {
    Animation = 1
    Screen += 1
    if (Screen == 1) {
        boardBG()
        welcome()
        changeScreen(5000)
    }
    elseif(Screen == 2) {
        changeScreen(5000)
    }
    elseif(Screen == 3) {
        changeScreen(5000)
    }
    elseif (Screen == 4) {
    }
    elseif (Screen == 5) {
    }
    elseif (Screen == 6) {
    }
    elseif (Screen == 7) {
    }
    elseif (Screen == 8) {
    }
    elseif (Screen == 9) {
    }
    elseif(Screen == 10) {
    }
    elseif(Screen == 11) {
    }
    else {
        Screen = 0
        changeScreen(3000)
    }
    
}
