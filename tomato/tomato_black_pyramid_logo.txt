@name Tomato Black Pyramid Logo
@inputs 
@outputs
@persist
@persist
@trigger

###################################################
#Coded by Bob Tomato, any changes or reqs /pm me :)
###################################################

if (first() || ~EGP) {
    #include "library/tomato_lib"
    
    #Colours
    Dark = vec(43, 43, 40)
    Primary = vec(227, 176, 75)
    Secondary = vec(241, 214, 171)
    Light = vec(248, 248, 248)
    
    #Draw initial screen
    #-------------------------------------------#
    EGP:egpClear()
    
    #Generic
    createBox("TitleBox",size(vec2(ScreenXY/2+200,90)), color(Black), coords(vec2(ScreenXY/2 - ScreenXY/4 - 100,10)))
    createText("The Black Pyramid",size(40),color(Primary),align(1),coords(vec2(ScreenXY/2,20)))
    
    #createCircle("PyramidCircle", size(150), color(Secondary), coords(vec2(ScreenXY/2,250)))
    #createTriangle("PyramidBase", size(100), color(Black), coords(vec2(ScreenXY/2,200)))
    #createTriangle("PyramidCentre", size(20), color(Primary), coords(vec2(ScreenXY/2,200)))
    
    function createBall(Num:number) {
        local ID = Elements:get("TitleBox")
        local Pos = EGP:egpPos(ID)
        local Size = EGP:egpSize(ID)
        local XCoords = randint(Pos:x()+10,Size:x()-10)
        local YCoords = randint(Pos:y()+50,Size:y()+40)
        local BallSize = randint(2,6)
        
        createCircle("Circle"+Num, size(BallSize), color(Black), coords(vec2(XCoords, YCoords)))
    }
    for (I = 1, 20) {
        createBall(I)
    }
    createText("Bar, Betting, Dance Floor & Exclusive VIP Section",size(18),color(Light),align(1),coords(vec2(ScreenXY/2,65)))
}

interval(100)

for (I = 1, 20) {
    local ID = Elements:get("Circle"+I)
    local Alpha = EGP:egpAlpha(ID)
    local Pos = EGP:egpPos(ID)
    
    EGP:egpPos(ID, vec2(Pos:x(), Pos:y()+5))
    if (Pos:y() > 150) {
        EGP:egpAlpha(ID,Alpha - 30)
    }
    if (Pos:y() > 200) {
        EGP:egpAlpha(ID,255)
        createBall(I)
    }
}




