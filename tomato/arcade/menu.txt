@name Arcade Machine
# Automagically Compiled via https://egpcompiler.com (Credits Odin & Bob Tomato)

#include "lib/tomato/1.1/tomato_core"
#include "tomato/arcade/theme"

if (initial()) {
    EGP:egpDrawTopLeft(1)
    mainMenu()

}

if (userInput()) {
    let Buttons = array()
    for(I=1, 6) {
        Buttons:pushString("Game"+I)
    }
    Buttons:pushString("Settings")
    Buttons:pushString("MainMenu")
    Buttons:pushString("CloseSettings")
    
    let Cursor = cursorObj(Buttons)
    switch(Cursor) {
        case "Settings",
            stopSpinner("TheSpinner")
            timer(1, function(){
                settings()
            })
        break
        case "MainMenu",
            stopSpinner("TheSpinner")
            timer(1, function() {
                mainMenu()
            })
        break
        case "CloseSettings",
        break
        default,
            if(Cursor:startsWith("Game")) {
                let Game = Cursor:sub(5):toNumber()
                gameMenu(Game)
            }
        break
    }
}
